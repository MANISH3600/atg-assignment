<!DOCTYPE html>
<html>
<head>
    <title>Blog Posts</title>
</head>
<body>
    <h2>Blog Posts</h2>

    <!-- Category Filter Buttons -->
    <form method="GET" action="{% url 'view_blog_posts' %}">
        <button type="submit" name="category" value="">All Categories</button>
        <button type="submit" name="category" value="Mental Health">Mental Health</button>
        <button type="submit" name="category" value="Heart Disease">Heart Disease</button>
        <button type="submit" name="category" value="Covid19">Covid19</button>
        <button type="submit" name="category" value="Immunization">Immunization</button>
    </form>

    <ul>
        {% for post in posts %}
            <li>
                <h3>{{ post.title }}</h3>
                {% if post.image %}
                    <img src="{{ post.image.url }}" alt="{{ post.title }}" width="100">
                {% endif %}
                <p>{{ post.truncated_summary }}</p>
                <a href="{% url 'blog_post_detail' post.id %}">Read more</a>
            </li>
        {% empty %}
            <li>No blog posts found.</li>
        {% endfor %}
    </ul>
</body>
</html>
